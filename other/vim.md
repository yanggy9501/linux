# 5 、vim

centos最小版是没有安装vim的，vim 是vi的升级版

## 5.1 复制

在默认的正常模式下，

- **单行复制** 在“正常”模式下，将光标移动到将要复制的行处，按“`yy`”进行复制
- **多行复制** 在“正常”模式下，将光标移动到将要复制的首行处，按“`nyy`”复制n行
- **粘贴**在“正常”模式下，将光标移动到将要粘贴的行处，按“`p`”进行粘贴



## 	5.2选择复制

- **按字符选择** 在“正常”行模式下，按“`v`”（小写），进入按字符选择模式，移动光标选择要进行复制的字符

  选择完成后按“`y`”进行复制，按“`p`”进行粘贴

- **按行选择** 在“命令”行模式下，按“`V`”（大写），进入行选择模式，移动光标选择要进行复制的行。选择完成后按“`y`”进行复制，按“`p`”进行粘贴

- **按块选择** 在“命令”行模式下，按组合键`Ctrl+v`进入到按块选择模式，移动光标选择要进行复制的块。按“`y`”进行复制，按“`p`”进行粘贴

  

## 5.3搜索/取消高亮

* 取消高亮： 命令模式下 ：noh

## 5.4 替换

* 先输入冒号（：），进入命令行模式。:s  表示替换

* 确定影响行数。$表示最后一行。如 :1,$s/abc/xyz/g 注意最后的/g 表示所有匹配到的都要替换。/g好像可以不要

* 最终版(推荐) :%s 替换所有。反斜杠 \ 转义字符

  ```vim
  格式
  :%s/要替换的旧字符/新字符/g
  匹配和替换“http://roclinux.cn/index.php”这样一个 URL
  :%s/http:\/\/roclinux\.cn\/index\.php/https:\/\/www\.baidu\.com/index\.php/g
  ```


## 5.4 修改tab 键空格

:set ts=4
:set expandtab
:%retab!

方式：

1. vim /etc/vimrc 

| `1`  | `set` `ts=4` |
| ---- | ------------ |
|      |              |

| `2`  | `set` `sw=4` |
| ---- | ------------ |
|      |              |

2. vim /etc/vimrc 

| `1`  | `set` `ts=4` |
| ---- | ------------ |
|      |              |

| `2`  | `set` `expandtab` |
| ---- | ----------------- |
|      |                   |

| `3`  | `set` `autoindent` |
| ---- | ------------------ |
|      |                    |

推荐使用第二种，按tab键时产生的是4个空格，这种方式具有最好的兼容性。

## 5.5 简单命令

要在命令模式下

GG：跳到行末句首

gg：跳到行首句首

0：跳转到当前行首

$：跳转到当前行末
